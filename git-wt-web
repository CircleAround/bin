#!/usr/bin/env bash
# git-wt-web - Launch web UI for git-wt status monitoring
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Check if node is available
if ! command -v node &>/dev/null; then
  echo "Error: Node.js is required but not installed" >&2
  exit 1
fi

# Check if in git repository
if ! git rev-parse --is-inside-work-tree &>/dev/null; then
  echo "Error: Not a git repository" >&2
  exit 1
fi

# Run the Node.js server
exec node "$SCRIPT_DIR/git-wt-web.js" "$@"
